<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rodrigo GarcÃ­a - Product Designer</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      overflow: hidden;
      font-family: sans-serif;
    }

    #preloader {
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease;
    }

    #progress-bar {
      width: 80%;
      height: 4px;
      background-color: rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    #progress {
      height: 100%;
      background-color: white;
      width: 0;
      transition: width 0.3s ease;
    }

    .container {
      display: flex;
      flex-direction: row;
      height: 100vh;
      width: 100vw;
      transition: all 0.5s ease;
      visibility: hidden;
    }

    @media (max-width: 1024px) {
      .container {
        flex-direction: column;
      }

      .right {
        padding: 24px !important;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .left {
        background: white;
        margin: 24px;
        width: calc(100% - 48px);
        height: calc(100% - 48px);
        box-shadow: 0 0 12px rgba(0,0,0,0.1);
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
      }

      .floating-img {
        position: absolute;
        z-index: 1;
        animation: none !important;
        border-radius: 8px;
      }
    }

    .left, .right {
      flex: 1;
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      flex-direction: column;
      padding: 50px;
      transition: background-color 1s ease;
      overflow: hidden;
      position: relative;
    }

    h1, p {
      max-width: 100%;
      text-align: left;
    }

    h1 {
      font-size: clamp(1.8rem, 5vw, 4rem);
      margin-bottom: 1.2em;
    }

    p {
      font-size: clamp(1rem, 3vw, 1.6rem);
      line-height: 1.5;
    }

    .text-wrapper {
      width: 88%;
      height: 100%;
      overflow: visible;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .floating-img {
      position: absolute;
      opacity: 0;
      will-change: transform, opacity;
      max-width: 33%;
      height: auto;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(100vh);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100%);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div id="preloader">
    <div id="progress-bar">
      <div id="progress"></div>
    </div>
  </div>

  <div class="container">
    <div class="left text-wrapper">
      <h1 id="title">Hi, welcome ðŸ‘‹</h1>
      <p id="paragraph">I'm Rodrigo GarcÃ­a, a Product Designer with over 8 years of experience in user-centered design and a solid 10-year background in front-end development. This site was once my personal portfolio, but after discontinuing the portfolio service, it's now a static page. If you'd like to see my work, feel free to request a PDF version. Throughout my career, I've held key design roles at companies like Hanzo, Billin, and Banco Santander, and contributed to projects for clients such as TelefÃ³nica, The Saudi Investment Bank, and Cuidado con el Perro. My journey has been about bridging design and technology to create impactful digital experiences.</p>
    </div>
    <div class="right" id="right-container"></div>
  </div>

  <script>
  // --- UTILIDADES ---
  const fontPairs = [/*...*/]; // usa tu array existente aquÃ­

  const [titleFont, paragraphFont] = fontPairs[Math.floor(Math.random() * fontPairs.length)];
  const fontLink = document.createElement("link");
  fontLink.rel = "stylesheet";
  fontLink.href = `https://fonts.googleapis.com/css2?family=${titleFont.replace(/ /g, '+')}&family=${paragraphFont.replace(/ /g, '+')}&display=swap`;
  document.head.appendChild(fontLink);

  const hslToCSS = ({ h, s, l }) => `hsl(${h}, ${s}%, ${l}%)`;
  const getRandomHSL = () => {
    const hue = Math.floor(Math.random() * 360);
    return { h: hue, s: 40, l: 50 };
  };
  const getComplementaryHSL = hsl => ({ h: (hsl.h + 180) % 360, s: hsl.s, l: hsl.l });
  const getTextColor = hsl => hsl.l > 60 ? '#000' : '#fff';

  // --- SETUP INICIAL ---
  const rightColorHSL = getRandomHSL();
  const leftColorHSL = getComplementaryHSL(rightColorHSL);
  const rightColor = hslToCSS(rightColorHSL);
  const leftColor = hslToCSS(leftColorHSL);
  const textColor = getTextColor(leftColorHSL);

  const title = document.getElementById('title');
  const paragraph = document.getElementById('paragraph');
  const left = document.querySelector('.left');
  const right = document.getElementById('right-container');
  const container = document.querySelector('.container');
  const preloader = document.getElementById('preloader');
  const progress = document.getElementById('progress');

  document.body.style.backgroundColor = rightColor;
  preloader.style.backgroundColor = rightColor;
  progress.style.backgroundColor = leftColor;

  title.style.fontFamily = `'${titleFont}', sans-serif`;
  paragraph.style.fontFamily = `'${paragraphFont}', sans-serif`;
  left.style.backgroundColor = leftColor;
  right.style.backgroundColor = rightColor;
  title.style.color = textColor;
  paragraph.style.color = textColor;

  // --- PRELOADER Y CARGA ---
  const totalImages = 44;
  let imagesLoaded = 0;

  const imagePaths = Array.from({ length: totalImages }, (_, i) =>
    `img/portfolio_${String(i + 1).padStart(2, '0')}.png`
  );

  const preloadImages = imagePaths.map(src => {
    return new Promise(resolve => {
      const img = new Image();
      img.src = src;
      img.onload = () => {
        imagesLoaded++;
        progress.style.width = `${(imagesLoaded / totalImages) * 100}%`;
        resolve(src);
      };
    });
  });

  // --- ANIMACIÃ“N IMÃGENES UNA A UNA ---
  async function floatImagesSequentially(sources) {
    for (const src of sources) {
      const img = document.createElement("img");
      img.src = src;
      img.classList.add("floating-img");
      img.style.position = 'absolute';
      img.style.left = `${Math.random() * 80 + 10}%`;
      img.style.bottom = '-20%';
      img.style.opacity = '0';
      img.style.transition = 'transform 20s linear, opacity 2s ease';
      right.appendChild(img);

      // Forzar reflow para aplicar transiciÃ³n
      void img.offsetHeight;

      // Mostrar imagen
      img.style.opacity = '1';
      img.style.transform = `translateY(-120vh)`;

      // Esperar a que llegue al 50% de la pantalla antes de aÃ±adir la siguiente
      await new Promise(resolve => {
        const observer = new IntersectionObserver(([entry]) => {
          if (entry.boundingClientRect.top <= window.innerHeight / 2) {
            observer.disconnect();
            resolve();
          }
        });
        observer.observe(img);
      });

      // Opcional: Eliminar despuÃ©s de salir por arriba
      setTimeout(() => img.remove(), 20000);
    }
  }

  // --- INICIO ---
  Promise.all(preloadImages).then(loadedSources => {
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.remove();
      container.style.visibility = 'visible';
      floatImagesSequentially(loadedSources);
    }, 500);
  });
</script>
</body>
</html>