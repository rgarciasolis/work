<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rodrigo García - Product Designer</title>
   <!-- Google Analytics 4 Tag -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-456798425"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-456798425');
  </script>
  <!-- Fin Google Analytics 4 Tag -->
  <style>
    /* Reset y estilos base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    @font-face {
        font-family: 'PP Nikkei Maru';
        src: url('img/fonts/PPNikkeiMaru-Light.woff2') format('woff2'),
            url('img/fonts/PPNikkeiMaru-Light.woff') format('woff');
        font-weight: 300;
        font-style: normal;
        font-display: swap;
    }

    @font-face {
        font-family: 'PP Nikkei Maru';
        src: url('img/fonts/PPNikkeiMaru-Ultrabold.woff2') format('woff2'),
            url('img/fonts/PPNikkeiMaru-Ultrabold.woff') format('woff');
        font-weight: bold;
        font-style: normal;
        font-display: swap;
    }

    html, body {
      height: 100%;
      overflow: hidden;
      font-family: sans-serif;
      font-family: 'PP Nikkei Maru';
      color: rgb(45, 40, 37);
    }

    a {
/*      text-decoration: none;*/
      transition: opacity 0.3s ease;
      color: rgb(0, 0, 238) !important;
      &:visited {
        color: rgb(0, 0, 238) !important;
      }
      &:hover {
        text-decoration: line-through !important;
      }
    }

    a:hover {
      opacity: 0.7;
      text-decoration: none;
    }

    /* Preloader */
    #preloader {
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease;
    }

    #progress-bar {
      width: 80%;
      height: 4px;
      background-color: rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
      border-radius: 2px;
    }

    #progress {
      height: 100%;
      background-color: white;
      width: 0;
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    /* Layout principal */
    .container {
      display: flex;
      flex-direction: row;
      height: 100vh;
      width: 100vw;
      transition: all 0.5s ease;
      visibility: hidden;
    }

    .left, .right {
      flex: 1;
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      flex-direction: column;
      padding: 50px;
      transition: background-color 1s ease;
      overflow: hidden;
      position: relative;
    }

    /* Estilos para textos */
    h1 {
      max-width: 100%;
    text-align: left;
    margin-bottom: 0;
    font-size: 16.6vh;
    transform: rotate(180deg);
    /* position: relative; */
    top: 0;
    left: 500px;
    z-index: 1;
    width: auto;
    height: auto;
    line-height: 1em;
    writing-mode: vertical-rl;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: -0.4rem;
    font-weight: bold;
    }

    p, ul li {
      max-width: 100%;
      text-align: left;
      font-size: 1.7vw;
      line-height: 1.5;
      margin-bottom: 1.2em;
    }

    .text-wrapper {
      width: 100%;
      height: 100%;
      padding: 2vw;
      overflow: visible;
      display: flex;
      justify-content: start;
      margin: 12px 0;
      border-radius: 16px;
    }

    .text-wrapper p {
      line-height: 1.4;
      letter-spacing: -0.01rem;
    }

    /* Navegación */
    
    ul {
      display: flex;
      width: 100%;
      padding: 0;
      margin: 0;
      list-style: none;
    }

    ul li {
      list-style: none;
      flex: 0 1 50%;
      &:first-child {
        a {
          border-right: 0;  ;
        }
        
      }
    }

    ul li a {
      text-transform: uppercase;
      border: 2px solid;
      display: block;
      padding: 8px;
      text-align: center;
      text-decoration: none;
      &:hover {
        text-decoration: line-through;
      }
    }

    /* Imágenes flotantes - Ajustes corregidos */
    .floating-img {
      position: absolute;
      opacity: 0;
      will-change: transform, opacity;
      max-width: 33%;
      height: auto;
      border-radius: 8px;
      transition: opacity 1.5s ease;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    }

    /* Media queries */
    @media (max-width: 1024px) {
      .container {
        display: block;
      }

      .right {
        padding: 24px !important;
        position: absolute !important;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: visible;
        height: 100% !important;
        width: 100%;
        top: 0;
        left: 0;
      }

      .left {
        background: white;
        margin: 0;
        width: 100%;
        height: auto !important;
        position: relative;
        padding: 24px !important;
        top: 0;
        left: 0;
        z-index: 2;
        opacity: 0.9;
        border-radius: 8px;
      }

      .floating-img {
        animation: none !important;
        border-radius: 8px;
      }
      
      ul {
        position: relative !important;
        bottom: auto !important;
        margin-top: 1.2em;
        transform: none !important;
        right: auto;
        li {
          a {
            border: 2px solid;
          }
        }
      }
      
      p, ul li {
        font-size: 2vh !important;
      }
      h1 {
        writing-mode: horizontal-tb;
        transform: none;
        font-size: 7.6vh !important;
        writing-mode: initial;
        position: relative;
        left: 0;
        letter-spacing: -0.1rem;
      }
    }
    @media (min-width: 1513px) {
      h1 {
        font-size: 16.8vh;
      }
      .text-wrapper {
        margin: 24px 0;
      }
      ul {
        li {
          a {
            border: 4px solid;
          }
        }
      }
    }
  </style>
</head>
<body>
  <div id="preloader">
    <div id="progress-bar">
      <div id="progress"></div>
    </div>
  </div>

  <div class="container">
      <h1 id="title">Hi, welcome</h1>
    <div class="left text-wrapper">
      <p>I'm Rodrigo García, a Product Designer with over 8 years of experience in user-centered design and a solid 10-year background in front-end development. This site was once my personal portfolio, but after discontinuing the portfolio service, it's now a static page. If you'd like to see my work, feel free to <a class="enlace" href="https://www.linkedin.com/in/rodrigogarciasolis/" target="_blank">request a PDF version</a>.</p>
      <p> Over the years, I've worked at design agencies, big companies, and early-stage startups. I design with users in mind, always. My tech background helps me imagine solutions that not only work, but also align with business goals and fit the realities of the product roadmap.</p>
      <ul>
        <li><a class="lista1 enlace" href="https://www.linkedin.com/in/rodrigogarciasolis/" target="_blank">Contact</a></li>
        <li><a class="lista2 enlace" href="https://drive.google.com/file/d/1MJ7_n_PuimtyUmtU6XeYBXW9dSaqpSJK/view" target="_blank">CV</a></li>
      </ul>
    </div>
    <div class="right" id="right-container"></div>
  </div>

 <script>
  // Tipografía usada
  const fontPair = ['Be Vietnam Pro', 'DM Sans'];

  // Inicialización principal
  function initializePortfolio() {
    setupDesign();
    loadPortfolioImages();
  }

  // Configuración de diseño
  function setupDesign() {
    // Aquí podrías aplicar tipografías y colores si lo necesitas
    // Por ahora está vacío por compatibilidad
  }

  // Precargar y mostrar imágenes del portfolio con animación
  function loadPortfolioImages() {
    const totalImages = 44;
    let imagesLoaded = 0;

    const progress = document.getElementById('progress');
    const preloader = document.getElementById('preloader');
    const container = document.querySelector('.container');

    const imagePaths = Array.from({ length: totalImages }, (_, i) =>
      `img/portfolio_${String(i + 1).padStart(2, '0')}.png`
    );

    const preloadImages = imagePaths.map(src => {
      return new Promise(resolve => {
        const img = new Image();
        img.src = src;

        img.onload = () => {
          imagesLoaded++;
          progress.style.width = `${(imagesLoaded / totalImages) * 100}%`;
          resolve(src);
        };

        img.onerror = () => {
          imagesLoaded++;
          progress.style.width = `${(imagesLoaded / totalImages) * 100}%`;
          console.warn(`Failed to load image: ${src}`);
          resolve(null);
        };
      });
    });

    Promise.all(preloadImages)
      .then(loadedSources => {
        const validSources = loadedSources.filter(src => src !== null);

        preloader.style.opacity = '0';
        setTimeout(() => {
          preloader.remove();
          container.style.visibility = 'visible';
          floatImagesSequentially(validSources);
        }, 500);
      })
      .catch(error => {
        console.error('Error cargando imágenes:', error);
        preloader.style.opacity = '0';
        setTimeout(() => {
          preloader.remove();
          container.style.visibility = 'visible';
        }, 500);
      });
  }

  // Algoritmo Fisher-Yates para barajar arrays
  function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
  }

  // Animación continua de imágenes flotantes
  async function floatImagesSequentially(imageList) {
    const rightContainer = document.getElementById('right-container');
    const shuffledImages = shuffleArray(imageList);
    let isRunning = true;
    let currentlyAnimating = false;

    window.addEventListener('beforeunload', () => {
      isRunning = false;
    });

    while (isRunning) {
      for (const src of shuffledImages) {
        if (!isRunning) break;

        if (currentlyAnimating) {
          await new Promise(resolve => setTimeout(resolve, 2000));
        }

        currentlyAnimating = true;

        const img = document.createElement("img");
        img.src = src;
        img.classList.add("floating-img");
        img.style.left = `${Math.random() * 60 + 20}%`;
        img.style.bottom = '-20%';
        img.style.transition = 'transform 15s linear, opacity 1.5s ease';
        rightContainer.appendChild(img);

        // Forzar repaint
        void img.offsetHeight;

        setTimeout(() => {
          img.style.opacity = '1';
          img.style.transform = 'translateY(-120vh)';
        }, 50);

        setTimeout(() => {
          img.style.opacity = '0';
          setTimeout(() => img.remove(), 1500);
        }, 13500);

        await new Promise(resolve => setTimeout(resolve, 3000));
      }

      shuffleArray(shuffledImages);
    }
  }

  // Ejecutar inicialización al cargar el DOM
  document.addEventListener('DOMContentLoaded', initializePortfolio);
</script>

</body>
</html>